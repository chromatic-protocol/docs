---
sidebar_position: 2
id: package
---

# Use solidity contract package

## Set up project

chromatic protocol contract를 사용하기 위하여 다양한 개발 환경 툴셋을 사용할 수 있습니다. 우리는 이번 가이드에서 Node.js, yarn 그리고 Hardhat을 사용할 것입니다.

### 1. initialze yarn project

`yarn` 은 `Node.js`에서 프로젝트의 의존성 관리와 패키지 설치를 손쉽게 할 수 있도록 도와주는 패키지 매니저입니다. `yarn`으로 프로젝트를 초기화할 것입니다.

yarn is a package manager that makes it easy to manage project dependencies and install packages in a `Node.js`. we will Initialize the project using yarn.(If you haven’t already, install yarn([yarn installation guide](https://classic.yarnpkg.com/en/docs/install)))

```bash
$ yarn init
```

### 2. add hardhat

하드햇은 솔리디티 컴파일, 테스팅, 개발을 포함한 이더리움 소프트웨어 개발환경 입니다. yarn을 사용하여 hardhat을 설치할 것입니다.

`Hardhat` is a development enviroment for Ethereum software that includes Solidity compilation, testing, and deployment. We will install `HardHat` using `yarn`.

```bash
$ yarn add -D hardhat
```

### 3. initialize hardhat

하드햇 설치가 완료되면 하드햇 프로젝트를 초기화할 것입니다.

Once the `HardHat` installation is complete, We will initialize the `HardHat` project.

```bash
$ yarn hardhat init
```

명령어 실행을 하면 아래의 3가지 옵션을 볼 수 있는데 우리는 `Create a TypeScript project` 옵션으로 진행할 것입니다. 옵션을 선택 후 프로젝트 루트를 묻는 선택지에 프로젝트 경로(just enter)를 입력하고 나머지 질문지에 yes를 선택해 진행해 줍니다.

When we run the command, we can see the following three options. We will proceed with the `Create a TypeScript project` option. After selecting the option, enter the project path (just enter) in the option that asks for the project root, and select yes to the rest of the questions to proceed.

```bash
  Create a JavaScript project
❯ Create a TypeScript project
  Create an empty hardhat.config.js
```

모든 과정이 끝나면 아래와 같은 폴더 구조가 생성된 것을 확인할 수 있습니다

After all the process, we can see that the folder structure as below has been created.

```
- contracts/ : We will write the Solidity smart contract within this folder
- scripts/ : Script like contract deployment
- test/ : Test scripts
```

### 4. add chromatic contracts

다음으로 우리는 yarn을 사용하여 Chromatic-protocol contracts를 우리의 새 프로젝트에 추가할 것입니다.

Next we will add `chromatic protocol contracts` to our new project using `yarn`.

```bash
$ yarn add -D @chromatic-protocol/contracts
```

### 4. set compiler version

크로마틱 컨트랙트는 0.8.0 이상 0.9.0 미만의 솔리디티 버전에서 컴파일 가능하도록 작성되었습니다. 크로마틱 컨트랙트를 사용하기 위하여 올바른 버전을 설정해 줍니다. ./hardhat.config.ts 에서 다음과 같이 설정해줍니다

The Chromatic-protocol contracts were written to be compilable in Solidity versions 0.8.0 and above, but less than 0.9.0.
We will set the correct version to use the chromatic-protocol contract. Set the following in ./hardhat.config.ts

```
// ./hardhat.config.ts
// ...
module.exports = {
    solidity: {
        compiler: [
            {
                version: '0.8.17',
                settings: {
                optimizer: {
                        enabled: true,
                        runs: 200
                    }
                }
            }
        ]
    }
}
```

## Compile a Example Contract

### 1. Create a new smart contract

환경이 올바르게 구성되었는지 확인하기 위해 샘플 컨트랙트를 만들어 작성하여 컴파일을 시도할 것입니다. ./contracts 경로 아래 새 파일을 만들어 아래의 코드를 붙여 넣습니다.

To make sure the environment is configured correctly, we will create and write a sample contract and try to compile it.
Create a new file under the `./contracts` path and paste the code below.

- ./contracts/SampleMarketFactory.sol

```solidity
// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.17;

import {ChromaticMarketFactory} from "@chromatic-protocol/contracts/contracts/core/ChromaticMarketFactory.sol";

// Zero interest market factory
contract SampleMarketFactory is ChromaticMarketFactory {
    function currentInterestRate(
        address token
    ) external view override returns (uint256 annualRateBPS) {
        return 0;
    }

    function calculateInterest(
        address token,
        uint256 amount,
        uint256 from, // timestamp (inclusive)
        uint256 to // timestamp (exclusive)
    ) external view override returns (uint256) {
        return 0;
    }
}
```

### 2. Compile

hardhat compile 명령어를 사용하여 ./contracts 폴더 내의 모든 컨트랙트들을 컴파일 합니다.

We will compile all contracts in the `./contracts` folder using the `hardhat compile` command.

```bash
$ yarn hardhat compile
```

## Next Step

컨트랙트가 성공적으로 컴파일된다면 개발을 시작할 준비가 된 것입니다. 크로마틱 프로토콜 컨트랙트들에 대해 알아보려면 가이드 섹션으로 이동하십시오.

If the contract compiles successfully, we are ready to start building. Jump over to the guides section to learn about the `Chromatic-protocol` contracts you can integrate with.
